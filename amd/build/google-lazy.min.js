function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}define ("local_liquidus/google-lazy",["jquery","core/log","core/templates"],function(a,b,c){var d=this,e={};d.addAnalyticsJS=function(){var f=a.Deferred(),g=e.trackerInfo.siteid;if(!g){b.debug("Liquidus is misconfigured for Google, Site ID is missing.");return}var h=[];h.siteid=g;c.render("local_liquidus/gtag",h).then(function(b){a("body").append(b);if("undefined"==typeof gtag){f.fail();return}d.gtag=gtag;f.resolve()});return f};e.loadTracker=function(a){e.trackerInfo=a;return d.addAnalyticsJS()};e.identify=function(){b.debug("Identifying with Google");d.gtag("event","identify",{userHash:e.trackerInfo.staticShares.userHash})};e.trackPage=function(){var a=e.trackerInfo.staticShares.plugins;delete e.trackerInfo.staticShares.plugins;console.log(a);Object.entries(e.trackerInfo.staticShares).forEach(function(a){var b=_slicedToArray(a,2),c=b[0],e=b[1];d.gtag("event",c,{event_label:e})});Object.entries(a).forEach(function(a){var b=_slicedToArray(a,2),c=b[0],e=b[1];e.forEach(function(a){console.log(a);d.gtag("event","plugin_used_"+c+"_"+a,{event_category:c})})})};e.processEvent=function(a,b,c){d.gtag("event",b,{userHash:e.trackerInfo.staticShares.userHash,eventData:c,event_callback:function event_callback(){a.resolve()}})};return e});
//# sourceMappingURL=google-lazy.min.js.map
